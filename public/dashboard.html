<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Server - B·∫£ng ƒêi·ªÅu Khi·ªÉn Web Server</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ B·∫£ng ƒêi·ªÅu Khi·ªÉn Server</h1>
            <p>Giao Di·ªán Qu·∫£n L√Ω Web Server - Theo D√µi v√† Qu·∫£n L√Ω Server Tƒ©nh ƒêa Lu·ªìng</p>
        </header>

        <!-- Quick Stats -->
        <div class="dashboard">
            <div class="card no-hover">
                <h3>üü¢ Tr·∫°ng Th√°i Server</h3>
                <div class="card-content">
                    <div>
                        <div class="card-label">T√¨nh Tr·∫°ng</div>
                        <div class="card-value">
                            <span class="status-indicator status-online"></span>
                            Tr·ª±c Tuy·∫øn
                        </div>
                    </div>
                    <div class="card-icon">‚ö°</div>
                </div>
            </div>

            <div class="card no-hover">
                <h3>üìä T·ªïng Requests</h3>
                <div class="card-content">
                    <div>
                        <div class="card-label">T·ªïng Requests</div>
                        <div class="card-value" id="total-requests">0</div>
                    </div>
                    <div class="card-icon">üìà</div>
                </div>
            </div>

            <div class="card no-hover">
                <h3>‚è±Ô∏è Th·ªùi Gian Ph·∫£n H·ªìi TB</h3>
                <div class="card-content">
                    <div>
                        <div class="card-label">Th·ªùi Gian Trung B√¨nh</div>
                        <div class="card-value" id="avg-response">2.5ms</div>
                    </div>
                    <div class="card-icon">‚öôÔ∏è</div>
                </div>
            </div>

            <div class="card no-hover">
                <h3>üë• K·∫øt N·ªëi ƒêang Ho·∫°t ƒê·ªông</h3>
                <div class="card-content">
                    <div>
                        <div class="card-label">K·∫øt N·ªëi Hi·ªán T·∫°i</div>
                        <div class="card-value" id="active-connections">0</div>
                    </div>
                    <div class="card-icon">üîó</div>
                </div>
            </div>

            <div class="card no-hover">
                <h3>üíæ D·ªØ Li·ªáu ƒê∆∞·ª£c Ph·ª•c V·ª§</h3>
                <div class="card-content">
                    <div>
                        <div class="card-label">D·ªØ Li·ªáu Ph·ª•c V·ª•</div>
                        <div class="card-value" id="data-served">0 MB</div>
                    </div>
                    <div class="card-icon">üíø</div>
                </div>
            </div>

            <div class="card no-hover">
                <h3>‚öôÔ∏è Threads</h3>
                <div class="card-content">
                    <div>
                        <div class="card-label">Tr·∫°ng Th√°i Thread Pool</div>
                        <div class="card-value">10</div>
                    </div>
                    <div class="card-icon">üîÑ</div>
                </div>
            </div>
        </div>

        <!-- Server Information & Requests -->
        <div class="grid-2">
            <div class="large-card no-hover">
                <h2>üìã C·∫•u H√¨nh Server</h2>
                <table class="info-table">
                    <tr>
                        <td>ƒê·ªãa Ch·ªâ Server</td>
                        <td>0.0.0.0:5000</td>
                    </tr>
                    <tr>
                        <td>Th∆∞ M·ª•c Public</td>
                        <td>./public</td>
                    </tr>
                    <tr>
                        <td>File Log</td>
                        <td>./logs/server.log</td>
                    </tr>
                    <tr>
                        <td>Threads T·ªëi ƒêa</td>
                        <td>10</td>
                    </tr>
                    <tr>
                        <td>Socket Timeout</td>
                        <td>30 gi√¢y</td>
                    </tr>
                    <tr>
                        <td>K√≠ch Th∆∞·ªõc Chunk</td>
                        <td>8192 bytes</td>
                    </tr>
                    <tr>
                        <td>Th·ªùi Gian Ch·∫°y</td>
                        <td id="uptime">00:00:00</td>
                    </tr>
                    <tr>
                        <td>L·∫ßn Kh·ªüi ƒê·ªông Cu·ªëi</td>
                        <td id="last-started">N/A</td>
                    </tr>
                </table>
            </div>

            <div class="large-card no-hover">
                <h2>üéØ Ph∆∞∆°ng Th·ª©c HTTP ƒê∆∞·ª£c H·ªó Tr·ª£</h2>
                <table class="info-table">
                    <tr>
                        <td><span class="badge badge-success">GET</span></td>
                        <td>L·∫•y n·ªôi dung t√†i nguy√™n</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-success">HEAD</span></td>
                        <td>L·∫•y headers ch·ªâ</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-danger">POST</span></td>
                        <td>Kh√¥ng ƒë∆∞·ª£c h·ªó tr·ª£</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-danger">PUT</span></td>
                        <td>Kh√¥ng ƒë∆∞·ª£c h·ªó tr·ª£</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-danger">DELETE</span></td>
                        <td>Kh√¥ng ƒë∆∞·ª£c h·ªó tr·ª£</td>
                    </tr>
                </table>

                <h2 style="margin-top: 30px;">üìÅ C√°c Lo·∫°i MIME ƒê∆∞·ª£c H·ªó Tr·ª£</h2>
                <table class="info-table">
                    <tr>
                        <td>.html, .css, .js</td>
                        <td>T√†i Nguy√™n Web</td>
                    </tr>
                    <tr>
                        <td>.png, .jpg, .gif, .svg</td>
                        <td>H√¨nh ·∫¢nh</td>
                    </tr>
                    <tr>
                        <td>.pdf, .json, .txt</td>
                        <td>T√†i Li·ªáu</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Recent Requests & Server Logs -->
        <div class="grid-2">
            <div class="large-card no-hover">
                <h2>üì° Requests G·∫ßn ƒê√¢y <span class="refresh-indicator"></span></h2>
                <div class="request-list" id="request-list">
                    <div class="request-item">
                        <span class="request-method get">GET</span>
                        <span>/</span>
                        <span class="request-status success">200</span>
                        <span style="float: right; color: #999;">2.3ms</span>
                    </div>
                    <div class="request-item">
                        <span class="request-method get">GET</span>
                        <span>/style.css</span>
                        <span class="request-status success">200</span>
                        <span style="float: right; color: #999;">1.8ms</span>
                    </div>
                    <div class="request-item">
                        <span class="request-method get">GET</span>
                        <span>/about.html</span>
                        <span class="request-status success">200</span>
                        <span style="float: right; color: #999;">2.1ms</span>
                    </div>
                    <div class="request-item">
                        <span class="request-method get">GET</span>
                        <span>/nonexistent.html</span>
                        <span class="request-status error">404</span>
                        <span style="float: right; color: #999;">1.5ms</span>
                    </div>
                </div>
                <div class="stats-grid">
                    <div class="stat-box no-hover">
                        <div class="stat-value" id="req-success">0</div>
                        <div class="stat-label">Th√†nh C√¥ng (2xx)</div>
                    </div>
                    <div class="stat-box no-hover">
                        <div class="stat-value" id="req-error">0</div>
                        <div class="stat-label">L·ªói (4xx/5xx)</div>
                    </div>
                    <div class="stat-box no-hover">
                        <div class="stat-value" id="req-per-sec">0</div>
                        <div class="stat-label">Req/Gi√¢y</div>
                    </div>
                </div>
            </div>

            <div class="large-card no-hover">
                <h2>üìù Logs Server</h2>
                <div class="log-container" id="log-container">
                    <div class="log-line">
                        <span class="log-time">[2025-12-11 14:30:00]</span>
                        <span class="log-level-info">[INFO]</span>
                        <span class="log-message">Web Server kh·ªüi t·∫°o - 0.0.0.0:5000</span>
                    </div>
                    <div class="log-line">
                        <span class="log-time">[2025-12-11 14:30:01]</span>
                        <span class="log-level-info">[INFO]</span>
                        <span class="log-message">Server b·∫Øt ƒë·∫ßu l·∫Øng nghe t·∫°i http://0.0.0.0:5000</span>
                    </div>
                    <div class="log-line">
                        <span class="log-time">[2025-12-11 14:30:05]</span>
                        <span class="log-level-info">[INFO]</span>
                        <span class="log-message">127.0.0.1:12345 - GET / HTTP/1.1</span>
                    </div>
                    <div class="log-line">
                        <span class="log-time">[2025-12-11 14:30:05]</span>
                        <span class="log-level-info">[INFO]</span>
                        <span class="log-message">127.0.0.1:12345 - 200: / (1245 bytes)</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Server Controls -->
        <div class="large-card no-hover" style="margin-bottom: 30px;">
            <h2>üéÆ ƒêi·ªÅu Khi·ªÉn Server</h2>
            <div class="btn-group">
                <button class="btn-primary" onclick="alert('Server ƒëang ch·∫°y. S·ª≠ d·ª•ng Ctrl+C trong terminal ƒë·ªÉ d·ª´ng.')">
                    üîÑ Kh·ªüi ƒê·ªông L·∫°i Server
                </button>
                <button class="btn-secondary" onclick="downloadLogs()">
                    üì• T·∫£i Logs
                </button>
                <button class="btn-secondary" onclick="viewStatistics()">
                    üìä Xem Th·ªëng K√™
                </button>
                <button class="btn-secondary" onclick="testServer()">
                    üß™ Ki·ªÉm Tra Server
                </button>
                <button class="btn-danger" onclick="alert('ƒê·ªÉ d·ª´ng server, nh·∫•n Ctrl+C trong terminal.')">
                    üõë D·ª´ng Server
                </button>
            </div>
        </div>

        <footer>
            <p>&copy; 2025 Dashboard Server Web | X√¢y D·ª±ng B·∫±ng Python & HTML5 | L·∫ßn C·∫≠p Nh·∫≠t Cu·ªëi: <span id="last-update">V·ª´a R·ªìi</span></p>
        </footer>
    </div>

    <script>
        // Simulate data updates
        let requestCount = 0;
        let successCount = 0;
        let errorCount = 0;
        let totalDataServed = 0;
        const startTime = new Date();

        function updateStats() {
            // Simulate random request activity
            requestCount += Math.floor(Math.random() * 3);
            
            if (Math.random() > 0.1) {
                successCount++;
            } else {
                errorCount++;
            }
            
            totalDataServed += Math.random() * 50;

            document.getElementById('total-requests').textContent = requestCount;
            document.getElementById('data-served').textContent = totalDataServed.toFixed(2) + ' MB';
            document.getElementById('req-success').textContent = successCount;
            document.getElementById('req-error').textContent = errorCount;
            document.getElementById('req-per-sec').textContent = (requestCount / ((new Date() - startTime) / 1000)).toFixed(2);
            
            updateUptime();
            updateLastUpdate();
        }

        function updateUptime() {
            const now = new Date();
            const elapsed = new Date(now - startTime);
            const hours = String(elapsed.getUTCHours()).padStart(2, '0');
            const minutes = String(elapsed.getUTCMinutes()).padStart(2, '0');
            const seconds = String(elapsed.getUTCSeconds()).padStart(2, '0');
            document.getElementById('uptime').textContent = `${hours}:${minutes}:${seconds}`;
        }

        function updateLastUpdate() {
            const now = new Date();
            document.getElementById('last-update').textContent = now.toLocaleTimeString('vi-VN');
        }

        function downloadLogs() {
            alert('üíæ T√≠nh NƒÉng T·∫£i Logs:\nLogs ƒë∆∞·ª£c l∆∞u t·∫°i: ./logs/server.log\nVui l√≤ng ki·ªÉm tra tr·ª±c ti·∫øp file n√†y.');
        }

        function viewStatistics() {
            alert(`üìä Th·ªëng K√™ Server:\n\nT·ªïng Requests: ${requestCount}\nTh√†nh C√¥ng: ${successCount}\nL·ªói: ${errorCount}\nD·ªØ Li·ªáu Ph·ª•c V·ª•: ${totalDataServed.toFixed(2)} MB\n\nCh·∫°y /test-client.html ƒë·ªÉ xem chi ti·∫øt h∆°n.`);
        }

        function testServer() {
            alert('üß™ Ki·ªÉm Tra Server:\n\n‚úì Tr·∫°ng Th√°i Server: Tr·ª±c Tuy·∫øn\n‚úì Port: 5000\n‚úì Threads: 10/10 available\n\nV√†o /test-client.html ƒë·ªÉ ch·∫°y ki·ªÉm tra chi ti·∫øt.');
        }

        // Set initial start time
        document.getElementById('last-started').textContent = startTime.toLocaleString('vi-VN');

        // Update stats every 2 seconds
        setInterval(updateStats, 2000);
        
        // Initial update
        updateStats();
    </script>
</body>
</html>
